tabs:
  main:
    display: 'Block Groups'
    sections:
      -
        fields:
          -
            handle: block_groups
            field:
              type: replicator
              display: 'Block Groups'
              instructions: 'Each group can have different visibility settings and positions.'
              button_label: 'Add Block Group'
              collapse: accordion
              sets:
                main:
                  display: Main
                  sets:
                    block_group:
                      display: 'Block Group'
                      instructions: 'A group of page builder blocks with visibility settings.'
                      fields:
                        -
                          handle: label
                          field:
                            type: text
                            display: 'Group Label'
                            instructions: 'Internal label for this block group.'
                            validate:
                              - required
                            width: 50
                        -
                          handle: available_as_block
                          field:
                            type: toggle
                            display: 'Available as Block'
                            instructions: 'Make this group available as a reusable page builder block.'
                            default: false
                            width: 50
                        -
                          handle: position
                          field:
                            type: select
                            display: 'Auto Position'
                            instructions: 'Where should these blocks automatically appear?'
                            options:
                              none: 'None (Manual only)'
                              before_content: 'Before main content (inside main)'
                              after_content: 'After main content (inside main)'
                              before_footer: 'Before footer (outside main)'
                            default: none
                            width: 50
                        -
                          handle: visibility_mode
                          field:
                            type: button_group
                            display: 'Visibility Mode'
                            instructions: 'Control which pages show this block group.'
                            options:
                              all: 'All Pages'
                              whitelist: 'Only Selected'
                              blacklist: 'All Except Selected'
                            default: all
                            width: 50
                            if:
                              position: 'not none'
                        -
                          handle: whitelist_entries
                          field:
                            type: entries
                            display: 'Show on These Pages'
                            instructions: 'Select pages where this block group should appear.'
                            collections:
                              - pages
                              - offerings
                            create: false
                            if:
                              visibility_mode: 'equals whitelist'
                              enabled: 'equals true'
                        -
                          handle: blacklist_entries
                          field:
                            type: entries
                            display: 'Hide on These Pages'
                            instructions: 'Select pages where this block group should NOT appear.'
                            collections:
                              - pages
                              - offerings
                            create: false
                            if:
                              visibility_mode: 'equals blacklist'
                              enabled: 'equals true'
                        -
                          import: page_builder
